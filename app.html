<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L·ªãch C√¥ng T√°c BHS - GREEN UPDATE V8.1</title>
    <link rel="manifest" href="./manifest.json">
    <meta name="theme-color" content="#4472C4">
    <link rel="apple-touch-icon" href="https://drive.google.com/uc?export=download&id=16GLGOJ6r9kM9qEtkCdTiRpvDNDUksuQI">
    
    <style>
        /* --- CSS BASE --- */
        body { margin: 0; padding: 0; background-color: #f4f6f9; scroll-behavior: smooth; }
        #schedule-container { font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; margin: 20px auto; width: 98%; max-width: 1400px; box-sizing: border-box; color: #333; background: white; padding: 20px; box-shadow: 0 4px 25px rgba(0,0,0,0.08); border-radius: 12px; }
        
        /* HEADER & DASHBOARD */
        .schedule-header h2 { text-align: center; color: #1a237e; margin: 0 0 10px 0; text-transform: uppercase; font-size: 26px; font-weight: 800; letter-spacing: 1px; }
        .schedule-header .sub-info { text-align: center; color: #555; margin-bottom: 20px; font-weight: 600; font-size: 16px; }
        
        .dashboard-panel { display: flex; justify-content: center; gap: 15px; margin-bottom: 20px; flex-wrap: wrap; display: none; }
        .stat-card { background: white; padding: 12px 24px; border-radius: 10px; border-left: 5px solid #4472C4; box-shadow: 0 4px 6px rgba(0,0,0,0.05); font-size: 14px; font-weight: bold; color: #444; transition: transform 0.2s; border: 1px solid #eee; }
        .stat-card:hover { transform: translateY(-2px); box-shadow: 0 6px 12px rgba(0,0,0,0.1); }
        .stat-card span { color: #d32f2f; font-size: 1.3em; margin-left: 5px; font-weight: 800; }
        
        .btn-test-notify { background: linear-gradient(135deg, #28a745, #20c997); color: white; border: none; padding: 6px 18px; border-radius: 20px; cursor: pointer; font-size: 12px; margin-left: 10px; font-weight: bold; box-shadow: 0 4px 10px rgba(40, 167, 69, 0.3); transition: all 0.2s; }
        .btn-test-notify:active { transform: scale(0.95); }
        
        /* TABLE STYLES */
        .table-responsive { overflow: auto; max-height: 75vh; border: 1px solid #e0e0e0; box-shadow: inset 0 0 10px rgba(0,0,0,0.02); border-radius: 8px; position: relative; display: none; scrollbar-width: thin; }
        table.custom-schedule { width: 100%; border-collapse: separate; border-spacing: 0; min-width: 1000px; font-size: 14.5px; background-color: white; }
        
        /* Sticky Header Logic */
        table.custom-schedule thead th { background: linear-gradient(180deg, #4472C4 0%, #365da3 100%); color: white; padding: 16px 12px; text-align: center; border-right: 1px solid rgba(255,255,255,0.2); border-bottom: none; white-space: nowrap; font-weight: bold; text-transform: uppercase; position: sticky; top: 0; z-index: 20; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        
        table.custom-schedule td { border-bottom: 1px solid #e0e0e0; border-right: 1px solid #e0e0e0; padding: 12px 14px; vertical-align: middle; color: #333; line-height: 1.6; }
        
        /* Sticky Date Column */
        table.custom-schedule td.col-sticky-date { background-color: #f0f7ff !important; font-weight: 700; text-align: center; color: #1565c0; position: sticky; left: 0; z-index: 10; border-right: 2px solid #b0bec5; }
        table.custom-schedule td.col-time { font-weight: 700; text-align: center; white-space: nowrap; color: #c62828; background-color: #fff8f8; font-family: 'Consolas', monospace; }
        table.custom-schedule td.align-center { text-align: center; }
        
        /* --- AI Highlight Current Day (GREEN VERSION) --- */
        tr.is-today td { 
            background-color: #d1e7dd !important; /* Xanh l√° nh·∫°t */
            border-top: 2px solid #198754;       /* Vi·ªÅn xanh ƒë·∫≠m */
            border-bottom: 2px solid #198754; 
        }
        tr.is-today td.col-sticky-date { 
            background-color: #a3cfbb !important; /* C·ªôt ng√†y ƒë·∫≠m h∆°n ch√∫t */
            color: #0f5132;                       /* Ch·ªØ xanh ƒë·∫≠m */
            border-right: 2px solid #146c43; 
        }

        table.custom-schedule tbody tr:hover td:not(.col-sticky-date) { background-color: #fffce7; cursor: default; }
        
        /* UTILS */
        .filter-tabs { display: flex; justify-content: center; gap: 10px; margin-bottom: 20px; flex-wrap: wrap; display: none; }
        .filter-btn { padding: 8px 20px; border: 1px solid #ddd; background: white; border-radius: 25px; cursor: pointer; font-size: 14px; font-weight: 600; color: #555; transition: all 0.2s; }
        .filter-btn.active { background: #4472C4; color: white; border-color: #4472C4; box-shadow: 0 4px 10px rgba(68, 114, 196, 0.4); transform: translateY(-1px); }
        
        #loading-state { text-align: center; padding: 50px; color: #4472C4; display: block; }
        .spinner { border: 4px solid rgba(68, 114, 196, 0.1); border-top: 4px solid #4472C4; border-radius: 50%; width: 50px; height: 50px; animation: spin 0.8s linear infinite; margin: 0 auto 20px; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        
        .search-wrapper { display: flex; justify-content: space-between; margin-bottom: 15px; gap: 12px; display: none; }
        #searchInput { flex-grow: 1; padding: 12px 20px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 15px; transition: border-color 0.2s; outline: none; }
        #searchInput:focus { border-color: #4472C4; }
        .btn-print { background-color: #555; color: white; border: none; padding: 0 25px; border-radius: 8px; cursor: pointer; font-weight: bold; display: flex; align-items: center; gap: 8px; }
        .btn-print:hover { background-color: #333; }

        /* TOAST & INSTALL */
        #toast-notify { visibility: hidden; min-width: 320px; background: rgba(30, 30, 30, 0.95); color: #fff; text-align: left; border-radius: 12px; padding: 16px 20px; position: fixed; z-index: 99999; right: 20px; top: 20px; font-size: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); opacity: 0; transform: translateY(-20px); transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55); display: flex; align-items: center; gap: 12px; backdrop-filter: blur(5px); border: 1px solid rgba(255,255,255,0.1); }
        #toast-notify.show { visibility: visible; opacity: 1; transform: translateY(0); }
        
        #install-app-btn { display: none; background: #000; color: white; border: none; padding: 10px 24px; border-radius: 30px; cursor: pointer; font-weight: bold; margin-bottom: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.2); }

        /* TAGS */
        .tag-common { padding: 4px 10px; border-radius: 6px; font-weight: 700; font-size: 0.85em; display: inline-block; margin: 2px; box-shadow: 0 1px 2px rgba(0,0,0,0.05); }
        .tag-bgh { background-color: #FFC000; color: #000; }
        .tag-tpt { background-color: #FFE699; color: #333; }
        .tag-sgd { background-color: #9BC2E6; color: #003366; }
        .tag-name-ht { background-color: #ffcdd2; color: #c62828; }
        .tag-name-hp { background-color: #c8e6c9; color: #2e7d32; }
        .tag-name-tt { background-color: #bbdefb; color: #1565c0; }
        
        @keyframes shake { 0% { transform: translateX(0); } 25% { transform: translateX(-5px); } 75% { transform: translateX(5px); } 100% { transform: translateX(0); } }
        .shake-active { animation: shake 0.4s ease-in-out; border-left-color: #ff9800 !important; background: #fff3e0 !important; }

        @media print { .search-wrapper, #ai-dashboard, .filter-tabs, .btn-print, .btn-test-notify, #toast-notify, #install-app-btn { display: none !important; } .table-responsive { overflow: visible; max-height: none; border: none; display: block !important; box-shadow: none; } #schedule-container { box-shadow: none; width: 100%; max-width: none; margin: 0; padding: 0; } }
    </style>
</head>
<body>

<div id="schedule-container">
    <div style="text-align: center;">
        <button id="install-app-btn">üì≤ C√†i ƒë·∫∑t App BHS</button>
    </div>
    
    <div id="top-info" class="schedule-header"></div>
    
    <div id="ai-dashboard" class="dashboard-panel"></div>
    
    <div id="day-filters" class="filter-tabs"></div>
    
    <div id="loading-state">
        <div class="spinner"></div>
        <span id="loading-text" style="font-weight: 600;">AI ƒëang ƒë·ªìng b·ªô d·ªØ li·ªáu...</span>
    </div>
    
    <div id="search-area" class="search-wrapper">
        <input type="text" id="searchInput" placeholder="üîç Nh·∫≠p t·ª´ kh√≥a ƒë·ªÉ t√¨m nhanh...">
        <button onclick="window.print()" class="btn-print">üñ®Ô∏è In L·ªãch</button>
    </div>
    
    <div id="main-table" class="table-responsive"></div>
</div>

<div id="toast-notify">
    <div style="font-size: 20px;">üîî</div>
    <div>
        <div style="font-weight: bold; margin-bottom: 2px;">C·∫≠p nh·∫≠t m·ªõi</div>
        <div style="font-size: 13px; opacity: 0.9;">D·ªØ li·ªáu l·ªãch v·ª´a ƒë∆∞·ª£c l√†m m·ªõi t·ª± ƒë·ªông.</div>
    </div>
</div>

<script>
/**
 * AI SUPER-SCHEDULER V8.1
 * N√¢ng c·∫•p: Green Highlight for Current Day
 */

const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbysvLenfsJak8UG4UHJfqBG1Kao-VFHVQgJ3MlK6V4VvZi0hGP6wMNEGs0Gk7DOJMiDig/exec'; 

const FALLBACK_DATA = `L·ªäCH C√îNG T√ÅC TU·∫¶N (OFFLINE)\nTh·ª©,Ng√†y,Th·ªùi gian,N·ªôi dung,ƒê·ªãa ƒëi·ªÉm,Ch·ªß tr√¨,Th√†nh ph·∫ßn,Ghi ch√∫,Kh·ªëi\nHai,01/01,07:00,Ch√†o c·ªù ƒë·∫ßu tu·∫ßn,S√¢n tr∆∞·ªùng,BGH,To√†n tr∆∞·ªùng,,THCS`;
const NAME_COLOR_MAP = { "Hi·ªáu tr∆∞·ªüng": "tag-name-ht", "HT": "tag-name-ht", "Hi·ªáu ph√≥": "tag-name-hp", "HP": "tag-name-hp", "T·ªï tr∆∞·ªüng": "tag-name-tt" };
const TAG_COLOR_MAP = { "BGH": "tag-bgh", "TPT": "tag-tpt", "SGD": "tag-sgd", ...NAME_COLOR_MAP };
const TAG_REGEX = new RegExp(`\\b(${Object.keys(TAG_COLOR_MAP).join('|')})\\b`, 'g');

const App = {
    currentFilterDay: 'all',
    CACHE_KEY: 'instant_schedule_data_v8',
    HASH_KEY: 'instant_schedule_hash_v8',
    deferredPrompt: null,

    init() {
        document.addEventListener('DOMContentLoaded', () => {
            this.registerServiceWorker();
            this.loadFromCache();
            this.loadScheduleData(false);
            this.initRealtimeCheck(); 
            this.setupInstallButton();
            
            if ('Notification' in window && Notification.permission !== 'granted') {
                Notification.requestPermission();
            }
        });
    },

    registerServiceWorker() {
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('./sw.js')
                .then(reg => {
                    console.log('SW Registered:', reg.scope);
                    reg.update(); 
                })
                .catch(err => console.log('SW Error:', err));
            
            navigator.serviceWorker.addEventListener('controllerchange', () => {
                console.log("SW controller changed");
            });
        }
    },

    setupInstallButton() {
        const installBtn = document.getElementById('install-app-btn');
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            this.deferredPrompt = e;
            installBtn.style.display = 'inline-block';
        });

        installBtn.addEventListener('click', () => {
            installBtn.style.display = 'none';
            this.deferredPrompt.prompt();
            this.deferredPrompt.userChoice.then((choiceResult) => {
                this.deferredPrompt = null;
            });
        });
    },

    setupEventListeners() {
        const searchInput = document.getElementById('searchInput');
        if(searchInput) searchInput.addEventListener('keyup', () => setTimeout(() => this.filterTable(), 300));
    },

    parseCSV(text) {
        const rows = []; let currentRow = []; let currentVal = ''; let inQuote = false;
        for (let i = 0; i < text.length; i++) {
            const char = text[i], nextChar = text[i + 1];
            if (char === '"') { inQuote ? (nextChar === '"' ? (currentVal += '"', i++) : inQuote = !inQuote) : inQuote = !inQuote; } 
            else if (char === ',' && !inQuote) { currentRow.push(currentVal); currentVal = ''; } 
            else if ((char === '\r' || char === '\n') && !inQuote) { if (char === '\r' && nextChar === '\n') i++; currentRow.push(currentVal); rows.push(currentRow); currentRow = []; currentVal = ''; } else { currentVal += char; }
        }
        if (currentRow.length > 0 || currentVal !== '') { currentRow.push(currentVal); rows.push(currentRow); }
        return rows;
    },

    filterTable() {
        const input = document.getElementById("searchInput");
        const textFilter = input.value.toUpperCase();
        const table = document.querySelector("table.custom-schedule");
        if (!table) return;
        const rows = table.querySelector("tbody").getElementsByTagName("tr");
        let hasVisible = false;
        for (const row of rows) {
            if (row.classList.contains('no-results-row')) continue;
            const rowDay = row.getAttribute('data-day');
            const dayMatch = (this.currentFilterDay === 'all') || (rowDay === this.currentFilterDay);
            const textMatch = textFilter === "" || row.textContent.toUpperCase().includes(textFilter);
            
            if (dayMatch && textMatch) {
                row.style.display = "";
                hasVisible = true;
            } else {
                row.style.display = "none";
            }
        }
    },

    setDayFilter(day, btnElement) {
        this.currentFilterDay = day;
        document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
        if(btnElement) btnElement.classList.add('active');
        
        const searchInput = document.getElementById('searchInput');
        if(searchInput) searchInput.value = '';
        this.filterTable();
    },

    loadFromCache() {
        const cached = localStorage.getItem(this.CACHE_KEY);
        if (cached) this.renderProfessionalTable(cached, false);
    },

    loadScheduleData(isBackground = false) {
        const noCacheUrl = SCRIPT_URL + (SCRIPT_URL.includes('?') ? '&' : '?') + 'nocache=' + new Date().getTime();
        fetch(noCacheUrl, { method: 'GET' })
            .then(res => res.text())
            .then(csv => {
                if (!csv || csv.includes("Error") || csv.length < 50) return;
                if(isBackground) { this.checkAndAutoUpdate(csv); } else { this.processNewData(csv); }
            })
            .catch(err => {
                console.warn("Fetch error:", err);
                if(!isBackground && !localStorage.getItem(this.CACHE_KEY)) this.renderProfessionalTable(FALLBACK_DATA, true);
            });
    },

    processNewData(newCsv) {
        localStorage.setItem(this.CACHE_KEY, newCsv);
        localStorage.setItem(this.HASH_KEY, newCsv.length);
        this.renderProfessionalTable(newCsv);
    },

    checkAndAutoUpdate(newCsv) {
        const oldHash = localStorage.getItem(this.HASH_KEY);
        if (oldHash && parseInt(oldHash) !== newCsv.length) {
            console.log("Detect change -> Syncing...");
            this.processNewData(newCsv); 
            
            // Effect UI
            const statusCard = document.getElementById("status-card-inner");
            if(statusCard) {
                statusCard.classList.add("shake-active");
                setTimeout(() => statusCard.classList.remove("shake-active"), 1000);
            }
            
            // Toast
            const toast = document.getElementById("toast-notify");
            if (toast) {
                toast.classList.remove("show");
                void toast.offsetWidth; 
                toast.classList.add("show");
                setTimeout(() => { toast.classList.remove("show"); }, 5000);
            }

            // Call SW
            if ('serviceWorker' in navigator && navigator.serviceWorker.controller) {
                navigator.serviceWorker.controller.postMessage({
                    type: 'SHOW_NOTIFICATION',
                    title: 'üìÖ C·∫≠p Nh·∫≠t L·ªãch BHS',
                    body: 'N·ªôi dung l·ªãch c√¥ng t√°c v·ª´a c√≥ s·ª± thay ƒë·ªïi.'
                });
            }
        }
    },

    initRealtimeCheck() {
        setInterval(() => { this.loadScheduleData(true); }, 15000); 
    },

    // --- AI UPGRADE: Logic cu·ªôn t·ªõi ng√†y h√¥m nay ---
    scrollToToday() {
        const today = new Date();
        const daysMap = ['Ch·ªß Nh·∫≠t', 'Hai', 'Ba', 'T∆∞', 'NƒÉm', 'S√°u', 'B·∫£y'];
        const currentDayStr = daysMap[today.getDay()];
        
        // T√¨m d√≤ng c√≥ class is-today ho·∫∑c data-day tr√πng
        const table = document.getElementById('main-table');
        const todayRow = table.querySelector(`tr.is-today`) || table.querySelector(`tr[data-day="${currentDayStr}"]`);
        
        if (todayRow) {
            setTimeout(() => {
                todayRow.scrollIntoView({ behavior: 'smooth', block: 'center' });
                // Hi·ªáu ·ª©ng flash nh·∫π ƒë·ªÉ b√°o hi·ªáu
                todayRow.style.transition = "background-color 1s";
                const originalBg = window.getComputedStyle(todayRow).backgroundColor; 
                // Kh√¥ng ƒë·ªïi m√†u flash v√†ng n·ªØa v√¨ ƒë√£ c√≥ m√†u xanh l√° n·ªïi b·∫≠t
            }, 800); 
        }
    },

    renderProfessionalTable(csvText, isDemo = false) {
        try {
            const rawData = this.parseCSV(csvText);
            const headerRowIndex = rawData.findIndex(row => row.some(c => c && c.toLowerCase().includes('th·ª©'))) || 0;
            if (headerRowIndex === -1 || rawData.length < headerRowIndex + 2) throw new Error("Format l·ªói.");
            
            const headers = rawData[headerRowIndex];
            const bodyRows = rawData.slice(headerRowIndex + 1).filter(r => !r.every(c => c.trim() === ''));
            
            const headerTarget = document.getElementById('top-info');
            if (!isDemo && headerRowIndex > 0) {
                let topHtml = '';
                for (let i = 0; i < headerRowIndex; i++) {
                    const info = rawData[i].filter(c => c.trim() !== '').join(' - ');
                    if (info) topHtml += (topHtml === '') ? `<h2>${info}</h2>` : `<div class="sub-info">${info}</div>`;
                }
                headerTarget.innerHTML = topHtml;
            }

            const dashboardTarget = document.getElementById('ai-dashboard');
            dashboardTarget.innerHTML = `
                <div class="stat-card">T·ªïng s·ª± ki·ªán: <span>${bodyRows.length}</span></div>
                <div class="stat-card">L·ªãch BGH: <span>${bodyRows.filter(r => r.join(' ').toUpperCase().includes('BGH')).length}</span></div>
                <div id="status-card-inner" class="stat-card" style="border-left-color: #28a745; cursor:pointer;" onclick="testToast()">
                    <span style="color:#28a745; margin:0;">‚ö° Live Sync</span>
                </div>
            `;
            dashboardTarget.style.display = "flex";

            const spanMap = this.calculateRowSpans(bodyRows, headers);
            let bodyHtml = ''; const uniqueDays = new Set();
            const idxTime = headers.findIndex(c => c.toLowerCase().includes('th·ªùi gian'));
            const idxChuTri = headers.findIndex(c => c.toLowerCase().includes('ch·ªß tr√¨'));
            
            // Logic x√°c ƒë·ªãnh ng√†y h√¥m nay ƒë·ªÉ highlight
            const todayDate = new Date();
            const daysMap = ['Ch·ªß Nh·∫≠t', 'Hai', 'Ba', 'T∆∞', 'NƒÉm', 'S√°u', 'B·∫£y'];
            const currentDow = daysMap[todayDate.getDay()];
            const currentDDMM = ('0' + todayDate.getDate()).slice(-2) + '/' + ('0' + (todayDate.getMonth()+1)).slice(-2);

            bodyRows.forEach((row, rIdx) => {
                const dayText = row[0] || ''; // C·ªôt Th·ª©
                const dateText = row[1] || ''; // C·ªôt Ng√†y
                if(dayText) uniqueDays.add(dayText);
                
                // Check if this row is today
                let isToday = false;
                if (dayText.includes(currentDow) && dateText.includes(currentDDMM.split('/')[0])) {
                    isToday = true;
                }
                const rowClass = isToday ? 'is-today' : '';

                bodyHtml += `<tr data-day="${dayText}" class="${rowClass}">`;
                headers.forEach((h, c) => {
                    if (spanMap[rIdx] && spanMap[rIdx][c] === 0) return;
                    let content = row[c] || '';
                    if(c === idxChuTri) content = content.replace(TAG_REGEX, m => `<span class="tag-common ${TAG_COLOR_MAP[m]}">${m}</span>`);
                    else if (['BGH','TPT','SGD'].includes(content)) content = `<span class="tag-common tag-${content.toLowerCase()}">${content}</span>`;
                    
                    let cls = (c===0||c===1)?'col-sticky-date': (c===idxTime?'col-time':'');
                    if(c===idxChuTri) cls += ' align-center';
                    let rowspan = (spanMap[rIdx][c] > 1) ? ` rowspan="${spanMap[rIdx][c]}"` : '';
                    bodyHtml += `<td class="${cls}"${rowspan}>${content.replace(/\n/g, '<br>')}</td>`;
                });
                bodyHtml += `</tr>`;
            });

            document.getElementById('main-table').innerHTML = `<table class="custom-schedule"><thead><tr>${headers.map(h => `<th>${h}</th>`).join('')}</tr></thead><tbody>${bodyHtml}</tbody></table>`;
            
            let filtersHtml = `<button class="filter-btn active" onclick="App.setDayFilter('all', this)">T·∫•t c·∫£</button>`;
            uniqueDays.forEach(day => { if(day.length<25) filtersHtml += `<button class="filter-btn" onclick="App.setDayFilter('${day}', this)">${day}</button>`; });
            document.getElementById('day-filters').innerHTML = filtersHtml;
            document.getElementById('day-filters').style.display = 'flex';

            document.getElementById('loading-state').style.display = 'none';
            document.getElementById('main-table').style.display = 'block';
            document.getElementById('search-area').style.display = 'flex';
            
            this.setupEventListeners();
            
            // Trigger AI Feature: Auto Scroll
            this.scrollToToday();

        } catch (e) { 
            console.error(e); 
        }
    },

    calculateRowSpans(bodyRows, headers) {
        if (!bodyRows.length) return [];
        const colsToMerge = [0, 1, headers.findIndex(c => c.toLowerCase().includes('th·ªùi gian'))].filter(i => i !== -1);
        const spanMap = bodyRows.map(() => Array(headers.length).fill(1));
        let start = 0;
        for (let i = 1; i < bodyRows.length; i++) {
            const match = colsToMerge.every(c => (bodyRows[i][c]||'').trim() === (bodyRows[i-1][c]||'').trim() && (bodyRows[i][c]||''));
            if (match) { colsToMerge.forEach(c => { spanMap[i][c] = 0; spanMap[start][c]++; }); } else { start = i; }
        }
        return spanMap;
    }
};

function testToast() {
    const toast = document.getElementById("toast-notify");
    toast.classList.add("show");
    setTimeout(() => { toast.classList.remove("show"); }, 3000);

    if (Notification.permission === 'granted' && 'serviceWorker' in navigator && navigator.serviceWorker.controller) {
        navigator.serviceWorker.controller.postMessage({
            type: 'SHOW_NOTIFICATION',
            title: 'üîî Test H·ªá Th·ªëng',
            body: 'H·ªá th·ªëng th√¥ng b√°o ho·∫°t ƒë·ªông t·ªët!'
        });
    } else {
        new Notification("üîî Test", { body: "Th√¥ng b√°o c·ª•c b·ªô (SW ch∆∞a s·∫µn s√†ng)." });
    }
}

App.init();
</script>
</body>
</html>
